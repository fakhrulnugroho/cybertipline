(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[14],{631:function(t,e,n){"use strict";var r=n(50),a=n(653),c=n.n(a),u=n(85),s=n(639),i=c.a.create({baseURL:s.a.API});i.interceptors.request.use((function(t){return function(t){var e=localStorage.getItem("token");return t.headers.Authorization="Bearer ".concat(e),t}(t)})),i.interceptors.response.use((function(t){return t}),(function(t){return function(t){return t.response&&t.response.data?u.b.error(t.response.data.message):"Network Error"===t.message?u.b.error("Sepertinya koneksi internet Anda terputus, silakan cek."):u.b.error(JSON.stringify(t)),Promise.reject(Object(r.a)({},t))}(t)})),e.a=i},636:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(629),a=n.n(r),c=n(630),u=n(631);function s(t){return i.apply(this,arguments)}function i(){return(i=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.post("/auth/login",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},637:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"i",(function(){return p})),n.d(e,"e",(function(){return f})),n.d(e,"j",(function(){return d})),n.d(e,"d",(function(){return h})),n.d(e,"k",(function(){return x})),n.d(e,"l",(function(){return y})),n.d(e,"f",(function(){return w})),n.d(e,"c",(function(){return k})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return E})),n.d(e,"a",(function(){return F}));var r=n(629),a=n.n(r),c=n(648),u=n(630),s=n(631);function i(t){return o.apply(this,arguments)}function o(){return(o=Object(u.a)(a.a.mark((function t(e){var n,r,u,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r in n=new FormData,e)if("suspectDob"===r||"dateMadeAvailable"===r||"incidentDate"===r)n.append(r,new Date(e[r]).toUTCString());else if("files"===r){u=Object(c.a)(e.files);try{for(u.s();!(i=u.n()).done;)o=i.value,n.append("files",o)}catch(a){u.e(a)}finally{u.f()}}else n.append(r,e[r]);return t.next=4,s.a.post("/cyber-tipline",n);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t){return l.apply(this,arguments)}function l(){return(l=Object(u.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/cyber-tipline/search",{params:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){return b.apply(this,arguments)}function b(){return(b=Object(u.a)(a.a.mark((function t(){var e,n,r,c=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:null,n=c.length>1&&void 0!==c[1]?c[1]:0,r="?size=10&page=".concat(n>0?n-1:n),e&&(r+="&search=".concat(e)),t.next=6,s.a.get("/cyber-tipline".concat(r));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/cyber-tipline/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.delete("/cyber-tipline/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.put("/cyber-tipline",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.put("/cyber-tipline/report/".concat(n),{report:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/cyber-tipline/stat/daily");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/cyber-tipline/pdf/".concat(e),{responseType:"blob"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/cyber-tipline/stat/monthly");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){return I.apply(this,arguments)}function I(){return(I=Object(u.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/cyber-tipline/stat/pie");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(t){return L.apply(this,arguments)}function L(){return(L=Object(u.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.put("/cyber-tipline/assign-to/".concat(e.ctId,"/").concat(e.uId));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},638:function(t,e,n){"use strict";var r=n(628),a=n(16);e.a=function(t){var e=t.color,n=t.size;return Object(a.jsxs)(r.e,{color:null!==e&&void 0!==e?e:"primary",size:null!==n&&void 0!==n?n:"",disabled:!0,children:[Object(a.jsx)("span",{className:"spinner-border spinner-border-sm"}),"\u2002 Loading..."]})}},639:function(t,e,n){"use strict";e.a={API:"https://cybertipline-api.nugrohospace.com/",FILE_URL:"https://cybertipline-files.nugrohospace.com/"}},640:function(t,e,n){"use strict";n.d(e,"d",(function(){return r.b})),n.d(e,"m",(function(){return r.i})),n.d(e,"j",(function(){return r.e})),n.d(e,"n",(function(){return r.j})),n.d(e,"g",(function(){return r.d})),n.d(e,"o",(function(){return r.k})),n.d(e,"p",(function(){return r.l})),n.d(e,"f",(function(){return r.c})),n.d(e,"a",(function(){return r.a})),n.d(e,"k",(function(){return i})),n.d(e,"l",(function(){return p})),n.d(e,"e",(function(){return f})),n.d(e,"i",(function(){return d})),n.d(e,"q",(function(){return h})),n.d(e,"c",(function(){return x})),n.d(e,"b",(function(){return y})),n.d(e,"h",(function(){return w})),n.d(e,"s",(function(){return k})),n.d(e,"r",(function(){return S}));n(636);var r=n(637),a=n(629),c=n.n(a),u=n(630),s=n(631);function i(){return o.apply(this,arguments)}function o(){return(o=Object(u.a)(c.a.mark((function t(){var e,n,r,a=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:null,n=a.length>1&&void 0!==a[1]?a[1]:0,r="?size=10&page=".concat(n>0?n-1:n),e&&(r+="&search=".concat(e)),t.next=6,s.a.get("/user".concat(r));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t){return l.apply(this,arguments)}function l(){return(l=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/user/level/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return b.apply(this,arguments)}function b(){return(b=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.post("/user",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.delete("/user/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.put("/user",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t,e){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.put("/user/change-password/".concat(n),e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.put("/user/change-my-password",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.delete("/file/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t,e){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(c.a.mark((function t(e,n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).append("file",e),t.next=4,s.a.put("/image/upload/".concat(n),r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t,e){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(c.a.mark((function t(e,n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).append("file",e),t.next=4,s.a.put("/file/upload/".concat(n),r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},641:function(t,e,n){"use strict";var r=n(656),a=n(16);e.a=function(){return Object(a.jsx)("div",{className:"d-flex justify-content-center align-items-end",style:{height:400},children:Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)(r.a,{size:256}),Object(a.jsx)("h1",{className:"mt-4",children:"Loading..."})]})})}},945:function(t,e,n){"use strict";n.r(e);var r=n(629),a=n.n(r),c=n(630),u=n(633),s=n(628),i=n(1),o=n(823),p=n.n(o),l=n(657),f=n(638),b=n(641),d=n(829),j=n(639),h=n(16),m=function(t){var e=t.images,n=(t.cyberTiplineId,t.afterSubmit,t.loadingApi),r=Object(i.useState)(null),o=Object(u.a)(r,2),m=o[0],x=o[1],O=Object(i.useState)(null),y=Object(u.a)(O,2),v=y[0],w=y[1],g=Object(i.useState)([]),k=Object(u.a)(g,2),N=(k[0],k[1]),S=Object(i.useState)(!1),C=Object(u.a)(S,2),E=C[0],I=(C[1],function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return n?Object(h.jsx)(b.a,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-md-6",children:[0===e.length&&Object(h.jsx)("h5",{className:"mb-3",children:"Belum ada image."}),Object(h.jsx)("button",{className:"btn btn-primary btn-sm",onClick:function(){return x("Upload")},children:"Upload Image"}),Object(h.jsx)("ul",{className:"mt-3",children:e.map((function(t){return Object(h.jsx)("li",{className:"text-primary mb-3",children:Object(h.jsxs)("h5",{className:"d-flex align-items-center cursor-pointer",children:[Object(h.jsx)("span",{className:"mr-2",onClick:function(){x("Preview"),w(t.url)},children:t.originalName}),Object(h.jsx)(d.CopyToClipboard,{text:"".concat(j.a.FILE_URL,"/").concat(t.url),children:Object(h.jsx)(l.a,{style:{fontSize:18},className:"cursor-pointer"})})]})},t.id)}))})]})}),Object(h.jsxs)(s.H,{show:"Upload"===m||"Preview"===m,onClose:function(){return x(null)},size:"lg",children:[Object(h.jsx)(s.K,{children:Object(h.jsxs)(s.L,{children:[m," Image"]})}),Object(h.jsxs)(s.I,{children:["Upload"===m&&Object(h.jsx)(p.a,{withIcon:!0,buttonText:"Choose images",imgExtension:[".jpg",".jpeg",".png",".gif"],maxFileSize:5242880,withPreview:!0,onChange:function(t){N(t)}}),"Preview"===m&&Object(h.jsx)("img",{src:"".concat(j.a.FILE_URL,"/").concat(v),width:"100%",alt:v})]}),"Upload"===m&&Object(h.jsxs)(s.J,{children:[Object(h.jsx)("button",{className:"btn btn-secondary",onClick:function(){return x(null)},children:"Cancel"}),E?Object(h.jsx)(f.a,{}):Object(h.jsx)("button",{className:"btn btn-primary",onClick:I,children:"Upload"})]})]})]})},x=n(690),O=n(927),y=(n(928),n(929),n(640)),v=(n(930),function(t){var e=t.getEditorState,n=t.report,r=t.cyberTiplineId,a=Object(i.useState)(x.EditorState.createEmpty()),c=Object(u.a)(a,2),s=c[0],o=c[1];return Object(i.useEffect)((function(){o(function(t){var e=null==t?null:x.ContentState.createFromBlockArray(Object(x.convertFromHTML)(t));return null==e?x.EditorState.createEmpty():x.EditorState.createWithContent(e)}(n))}),[n]),Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-12",children:Object(h.jsx)(O.Editor,{toolbarClassName:"toolbarClassName",wrapperClassName:"demo-wrapper p-1 border",editorClassName:"demo-editor",editorState:s,editorStyle:{minHeight:430},onEditorStateChange:function(t){o(t),e(t)},toolbar:{image:{uploadCallback:function(t){return Object(y.s)(t,r)},previewImage:!0,alt:{present:!0,mandatory:!1}}}})})})}),w=n(678),g=n.n(w),k=n(931),N=n.n(k),S=n(85);e.default=function(t){var e=g.a.parse(t.location.search,{ignoreQueryPrefix:!0}).id,n=Object(i.useState)(null),r=Object(u.a)(n,2),o=r[0],p=r[1],l=Object(i.useState)([]),b=Object(u.a)(l,2),d=b[0],j=b[1],O=[{name:"Report",component:v},{name:"Image",component:m}],w=Object(i.useState)(O[0].name),k=Object(u.a)(w,2),C=k[0],E=k[1],I=Object(i.useState)(!0),F=Object(u.a)(I,2),L=F[0],T=F[1],U=Object(i.useState)(x.EditorState.createEmpty()),R=Object(u.a)(U,2),z=R[0],A=R[1],P=Object(i.useState)(!1),D=Object(u.a)(P,2),H=D[0],J=D[1],B=function(){var t=Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(!0),t.prev=1,t.next=4,Object(y.n)(e);case 4:n=t.sent,p(n.data.report),j(n.data.images),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:T(!1);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),K=function(){var t=Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return J(!0),t.prev=1,n=N()(Object(x.convertToRaw)(z.getCurrentContent())),t.next=5,Object(y.p)(n,e);case 5:S.b.success("Report berhasing diupdate!"),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:J(!1);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){B()}),[]),Object(h.jsxs)(s.g,{children:[Object(h.jsx)(s.k,{children:Object(h.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(h.jsx)("div",{children:Object(h.jsx)("h5",{className:"d-inline",children:"Report Cyber Tipline"})}),Object(h.jsxs)("div",{children:["Report"===C&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"btn btn-primary",onClick:K,children:"Save"})," "]}),Object(h.jsx)("button",{className:"btn btn-secondary",onClick:function(){return window.history.back()},children:"Kembali"})]})]})}),Object(h.jsx)(s.h,{style:{minHeight:"60vh"},children:Object(h.jsxs)(s.db,{activeTab:C,children:[Object(h.jsx)(s.M,{variant:"tabs",children:O.map((function(t){return Object(h.jsx)(s.N,{"data-tab":t.name,onClick:function(){return E(t.name)},children:Object(h.jsx)(s.O,{"data-tab":t.name,children:t.name})},t.name)}))}),Object(h.jsx)(s.bb,{children:O.map((function(t){return Object(h.jsx)(s.cb,{"data-tab":t.name,children:Object(h.jsx)("div",{className:"mt-3",children:Object(h.jsx)(t.component,{images:d,report:o,cyberTiplineId:e,loadingApi:L,afterSubmit:B,getEditorState:function(t){return A(t)}})})},t.name)}))})]})}),Object(h.jsxs)(s.i,{children:["Report"===C?H?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f.a,{})," "]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"btn btn-primary",onClick:K,children:"Save"})," "]}):null,Object(h.jsx)("button",{className:"btn btn-secondary",onClick:function(){return window.history.back()},children:"Kembali"})]})]})}}}]);
//# sourceMappingURL=14.3ef25c33.chunk.js.map