(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[16],{631:function(t,e,n){"use strict";var r=n(50),a=n(653),c=n.n(a),s=n(85),i=n(639),u=c.a.create({baseURL:i.a.API});u.interceptors.request.use((function(t){return function(t){var e=localStorage.getItem("token");return t.headers.Authorization="Bearer ".concat(e),t}(t)})),u.interceptors.response.use((function(t){return t}),(function(t){return function(t){return t.response&&t.response.data?s.b.error(t.response.data.message):"Network Error"===t.message?s.b.error("Sepertinya koneksi internet Anda terputus, silakan cek."):s.b.error(JSON.stringify(t)),Promise.reject(Object(r.a)({},t))}(t)})),e.a=u},637:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"i",(function(){return p})),n.d(e,"e",(function(){return d})),n.d(e,"j",(function(){return b})),n.d(e,"d",(function(){return j})),n.d(e,"k",(function(){return m})),n.d(e,"l",(function(){return y})),n.d(e,"f",(function(){return g})),n.d(e,"c",(function(){return w})),n.d(e,"g",(function(){return N})),n.d(e,"h",(function(){return C})),n.d(e,"a",(function(){return L}));var r=n(629),a=n.n(r),c=n(648),s=n(630),i=n(631);function u(t){return o.apply(this,arguments)}function o(){return(o=Object(s.a)(a.a.mark((function t(e){var n,r,s,u,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r in n=new FormData,e)if("suspectDob"===r||"dateMadeAvailable"===r||"incidentDate"===r)n.append(r,new Date(e[r]).toUTCString());else if("files"===r){s=Object(c.a)(e.files);try{for(s.s();!(u=s.n()).done;)o=u.value,n.append("files",o)}catch(a){s.e(a)}finally{s.f()}}else n.append(r,e[r]);return t.next=4,i.a.post("/cyber-tipline",n);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t){return l.apply(this,arguments)}function l(){return(l=Object(s.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/cyber-tipline/search",{params:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(a.a.mark((function t(){var e,n,r,c=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:null,n=c.length>1&&void 0!==c[1]?c[1]:0,r="?size=10&page=".concat(n>0?n-1:n),e&&(r+="&search=".concat(e)),t.next=6,i.a.get("/cyber-tipline".concat(r));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){return h.apply(this,arguments)}function h(){return(h=Object(s.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/cyber-tipline/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.delete("/cyber-tipline/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return O.apply(this,arguments)}function O(){return(O=Object(s.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.put("/cyber-tipline",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){return v.apply(this,arguments)}function v(){return(v=Object(s.a)(a.a.mark((function t(e,n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.put("/cyber-tipline/report/".concat(n),{report:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return k.apply(this,arguments)}function k(){return(k=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/cyber-tipline/stat/daily");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){return S.apply(this,arguments)}function S(){return(S=Object(s.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/cyber-tipline/pdf/".concat(e),{responseType:"blob"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return A.apply(this,arguments)}function A(){return(A=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/cyber-tipline/stat/monthly");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(){return F.apply(this,arguments)}function F(){return(F=Object(s.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("/cyber-tipline/stat/pie");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){return M.apply(this,arguments)}function M(){return(M=Object(s.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.put("/cyber-tipline/assign-to/".concat(e.ctId,"/").concat(e.uId));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},639:function(t,e,n){"use strict";e.a={API:"https://cybertipline-api.nugrohospace.com/",FILE_URL:"https://cybertipline-files.nugrohospace.com/"}},641:function(t,e,n){"use strict";var r=n(656),a=n(16);e.a=function(){return Object(a.jsx)("div",{className:"d-flex justify-content-center align-items-end",style:{height:400},children:Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)(r.a,{size:256}),Object(a.jsx)("h1",{className:"mt-4",children:"Loading..."})]})})}},946:function(t,e,n){"use strict";n.r(e);var r=n(629),a=n.n(r),c=n(630),s=n(633),i=n(1),u=n.n(i),o=n(628),p=(n(646),n(686)),l=n(50),d=n(668),f=n(947),b=n(937),h=n(16),j=(Object(f.a)("success"),Object(f.a)("info")||"#20a8d8"),x=(Object(f.a)("danger"),function(t){var e=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],n=t.data.map((function(t){return t.total})),r=Math.max.apply(Math,Object(d.a)(n)),a=t.data.map((function(t){var e;return null!==(e=t.month)&&void 0!==e?e:t.date})).map((function(t){var n=t.split("-");return 2===n.length?"".concat(e[n[1]-1]," ").concat(n[0]):"".concat(n[2]," ").concat(e[n[1]-1]," ").concat(n[0])}));1===a.length&&1===n.length&&(a.unshift(0),n.unshift(0));var c=[{label:"Kasus",backgroundColor:Object(b.a)(j,10),borderColor:j,pointHoverBackgroundColor:j,borderWidth:2,data:n}],s={maintainAspectRatio:!1,legend:{display:!1},tooltips:{callbacks:{label:function(t,e){var n=t.datasetIndex;return e.datasets[n].label},footer:function(t,e){return t[0].value}}},scales:{xAxes:[{gridLines:{drawOnChartArea:!1}}],yAxes:[{ticks:{beginAtZero:!0,maxTicksLimit:10,stepSize:1,max:Math.ceil(1.2*r),callback:function(t){return t}},gridLines:{display:!0}}]},elements:{point:{radius:0,hitRadius:10,hoverRadius:4,hoverBorderWidth:3}}};return Object(h.jsx)(p.c,Object(l.a)(Object(l.a)({},t),{},{datasets:c,options:s,labels:a}))}),m=n(637),O=n(641);e.default=function(){var t=["Daily","Monthly"],e=u.a.useState(t[0]),n=Object(s.a)(e,2),r=n[0],l=n[1],d=u.a.useState([]),f=Object(s.a)(d,2),b=f[0],j=f[1],y=u.a.useState(!0),v=Object(s.a)(y,2),g=v[0],k=v[1],w=Object(i.useState)({}),S=Object(s.a)(w,2),N=S[0],A=S[1],C=Object(i.useState)(!0),F=Object(s.a)(C,2),L=F[0],M=F[1],D=function(){var t=Object(c.a)(a.a.mark((function t(e){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k(!0),t.prev=1,n=[],r=[],c=[],"Daily"!==e){t.next=14;break}return t.next=8,Object(m.f)();case 8:n=t.sent,r=n.data.map((function(t){var e,n=t.created_at.split("-").map((function(t){return t.toString().padStart(2,"0")})).join("");return{date:t.created_at,order:n,total:null!==(e=t.count)&&void 0!==e?e:0}})),c=r.sort((function(t,e){return t.order>e.order?1:t.order<e.order?-1:0})),j(c),t.next=21;break;case 14:if("Monthly"!==e){t.next=21;break}return t.next=17,Object(m.g)();case 17:n=t.sent,r=n.data.map((function(t){var e,n=t.month.split("-").map((function(t){return t.toString().padStart(2,"0")})).join("");return{month:t.month,order:n,total:null!==(e=t.count)&&void 0!==e?e:0}})),c=r.sort((function(t,e){return t.order>e.order?1:t.order<e.order?-1:0})),j(c);case 21:t.next=25;break;case 23:t.prev=23,t.t0=t.catch(1);case 25:k(!1);case 26:case"end":return t.stop()}}),t,null,[[1,23]])})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(c.a)(a.a.mark((function t(){var e,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return M(!0),t.prev=1,t.next=4,Object(m.h)();case 4:e=t.sent,n=[e.data.sidik,e.data.lidik,e.data.selesai],A({labels:["Sidik","Lidik","Selesai"],datasets:[{data:n,backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]}),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(1);case 12:M(!1);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return u.a.useEffect((function(){D(r),E()}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-8",children:Object(h.jsx)(o.g,{children:Object(h.jsxs)(o.h,{children:[Object(h.jsxs)(o.R,{children:[Object(h.jsx)(o.l,{sm:"5",children:Object(h.jsx)("h4",{id:"traffic",className:"card-title mb-0",children:"Stats Cyber Tipline"})}),Object(h.jsx)(o.l,{sm:"7",className:"d-none d-md-block",children:Object(h.jsx)(o.f,{className:"float-right mr-3",children:t.map((function(t){return Object(h.jsx)(o.e,{color:"outline-secondary",className:"mx-0",active:t===r,onClick:function(){var e;(e=t)!==r&&(l(e),D(e))},children:t},t)}))})})]}),g?Object(h.jsx)(O.a,{}):Object(h.jsx)(x,{style:{height:"400px",marginTop:"40px"},data:b})]})})}),Object(h.jsx)("div",{className:"col-md-4",children:Object(h.jsx)(o.g,{children:Object(h.jsxs)(o.h,{children:[Object(h.jsx)(o.R,{children:Object(h.jsx)(o.l,{sm:"8",children:Object(h.jsx)("h4",{id:"traffic",className:"card-title mb-0",children:"Stats Cyber Tipline"})})}),Object(h.jsx)("div",{className:"pt-4 pb-3",children:L?Object(h.jsx)(O.a,{}):Object(h.jsx)(p.a,{type:"pie",datasets:N.datasets,labels:N.labels})})]})})})]})})}}}]);
//# sourceMappingURL=16.c3bf65e5.chunk.js.map