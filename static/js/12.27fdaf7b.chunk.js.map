{"version":3,"sources":["api/axiosInstance.js","api/auth.js","api/cyberTipline.js","components/LoadingButton.js","constants/index.js","api/user.js","api/file.js","components/FormInput.js","components/Header.js","components/RenderForm.js","pages/user/ModalMyProfile.js","pages/user/MyProfile.js"],"names":["axiosInstance","axios","create","baseURL","constant","API","interceptors","request","use","token","localStorage","getItem","headers","requestHandler","response","error","data","toast","message","JSON","stringify","Promise","reject","errorHandler","authLogin","a","post","createCyberTipline","d","formData","FormData","append","Date","toUTCString","files","f","searchCyberTipline","params","get","getCyberTipline","search","page","qs","showCyberTipline","id","deleteCyberTipline","delete","updateCyberTipline","put","updateCyberTiplineReport","report","getCyberTiplineDaily","cyberTiplineGeneratePdf","responseType","getCyberTiplineMonthly","getCyberTiplinePieChart","assignCyberTiplineTo","param","ctId","uId","LoadingButton","color","size","disabled","className","FILE_URL","getUser","getUserByLevel","level","createUser","deleteUser","updateUser","changePassword","changeMyPassword","deleteFile","uploadImage","img","uploadFile","file","FormInput","props","label","type","value","onChange","options","rows","defaultValue","Header","title","buttons","map","b","i","onClick","text","RenderForm","fields","col","field","j","React","isValidElement","ModalMyProfile","modalTitle","show","onCancel","useState","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","position","setPosition","oldPassword","setOldPassword","loadingBtn","setLoadingBtn","clearForm","onSubmit","res","setItem","length","newPassword","onClose","e","target","MyProfile","userdata","getUserData","modal","setModal","Object","keys","Role","width"],"mappings":"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","file":"static/js/12.27fdaf7b.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport constant from \"../constants\";\n\nconst requestHandler = (request) => {\n  const token = localStorage.getItem(\"token\");\n  request.headers[\"Authorization\"] = `Bearer ${token}`;\n  return request;\n};\n\nconst errorHandler = (error) => {\n  // toast.error(error.response.data.message);\n  if (error.response && error.response.data) toast.error(error.response.data.message);\n  else {\n    if (error.message === \"Network Error\") toast.error(\"Sepertinya koneksi internet Anda terputus, silakan cek.\");\n    else toast.error(JSON.stringify(error));\n  }\n  return Promise.reject({ ...error });\n};\n\nconst successHandler = (response) => {\n  return response;\n};\n// Init Axios\nconst axiosInstance = axios.create({\n  baseURL: constant.API,\n});\n\n// Add interceptors\naxiosInstance.interceptors.request.use((request) => requestHandler(request));\naxiosInstance.interceptors.response.use(\n  (response) => successHandler(response),\n  (error) => errorHandler(error)\n);\n\nexport default axiosInstance;\n","import axiosInstance from \"./axiosInstance\";\n\nexport async function authLogin(data) {\n  return await axiosInstance.post(\"/auth/login\", data);\n}","import axiosInstance from \"./axiosInstance\";\n\nexport async function createCyberTipline(data) {\n  const formData = new FormData();\n  for (let d in data) {\n    if (d === \"suspectDob\" || d === \"dateMadeAvailable\" || d === \"incidentDate\")\n      formData.append(d, new Date(data[d]).toUTCString());\n    else if (d === \"files\") {\n      for (let f of data.files) {\n        formData.append(\"files\", f);\n      }\n    } else formData.append(d, data[d]);\n  }\n  return await axiosInstance.post(\"/cyber-tipline\", formData);\n}\n\nexport async function searchCyberTipline(params) {\n  return await axiosInstance.get(\"/cyber-tipline/search\", { params });\n}\n\nexport async function getCyberTipline(search = null, page = 0) {\n  let qs = `?size=10&page=${page > 0 ? page - 1 : page}`;\n  if (search) qs += `&search=${search}`;\n  return await axiosInstance.get(`/cyber-tipline${qs}`);\n}\n\nexport async function showCyberTipline(id) {\n  return await axiosInstance.get(`/cyber-tipline/${id}`);\n}\n\nexport async function deleteCyberTipline(id) {\n  return await axiosInstance.delete(`/cyber-tipline/${id}`);\n}\n\nexport async function updateCyberTipline(data) {\n  return await axiosInstance.put(\"/cyber-tipline\", data);\n}\n\nexport async function updateCyberTiplineReport(report, id) {\n  return await axiosInstance.put(`/cyber-tipline/report/${id}`, { report });\n}\n\nexport async function getCyberTiplineDaily() {\n  return await axiosInstance.get(\"/cyber-tipline/stat/daily\");\n}\n\nexport async function cyberTiplineGeneratePdf(id) {\n  return await axiosInstance.get(`/cyber-tipline/pdf/${id}`, { responseType: \"blob\" });\n}\n\nexport async function getCyberTiplineMonthly() {\n  return await axiosInstance.get(\"/cyber-tipline/stat/monthly\");\n}\n\nexport async function getCyberTiplinePieChart() {\n  return await axiosInstance.get(\"/cyber-tipline/stat/pie\");\n}\n\nexport async function assignCyberTiplineTo(param) {\n  return await axiosInstance.put(`/cyber-tipline/assign-to/${param.ctId}/${param.uId}`);\n}\n","import { CButton } from \"@coreui/react\"\n\nconst LoadingButton = ({color, size}) => {\n  return (\n    <CButton color={color ?? \"primary\"} size={size ?? \"\"} disabled>\n      <span className=\"spinner-border spinner-border-sm\"></span>&ensp;\n      Loading...  \n    </CButton>\n  )\n}\n\nexport default LoadingButton\n","const constant = {\n  // API: \"http://localhost:8080/\",\n  // FILE_URL: \"http://localhost:4040\",\n  API: \"https://cybertipline-api.nugrohospace.com/\",\n  FILE_URL: \"https://cybertipline-files.nugrohospace.com/\",\n};\n\nexport default constant;\n","import axiosInstance from \"./axiosInstance\";\n\nexport async function getUser(search = null, page = 0) {\n  let qs = `?size=10&page=${page > 0 ? page - 1 : page}`;\n  if (search) qs += `&search=${search}`;\n  return await axiosInstance.get(`/user${qs}`);\n}\n\nexport async function getUserByLevel(level) {\n  return await axiosInstance.get(`/user/level/${level}`);\n}\n\nexport async function createUser(data) {\n  return await axiosInstance.post(\"/user\", data);\n}\n\nexport async function deleteUser(id) {\n  return await axiosInstance.delete(`/user/${id}`);\n}\n\nexport async function updateUser(data) {\n  return await axiosInstance.put(\"/user\", data);\n}\n\nexport async function changePassword(data, id) {\n  return await axiosInstance.put(`/user/change-password/${id}`, data);\n}\n\nexport async function changeMyPassword(data) {\n  return await axiosInstance.put(\"/user/change-my-password\", data);\n}\n","import axiosInstance from \"./axiosInstance\";\n\nexport async function deleteFile(id) {\n  return await axiosInstance.delete(`/file/${id}`);\n}\n\nexport async function uploadImage(img, ctId) {\n  const formData = new FormData();\n  formData.append(\"file\", img);\n  return await axiosInstance.put(`/image/upload/${ctId}`, formData);\n}\n\nexport async function uploadFile(file, id) {\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  return await axiosInstance.put(`/file/upload/${id}`, formData);\n}\n","import { CFormGroup } from \"@coreui/react\";\nimport Select from \"react-select\";\n\nconst FormInput = (props) => {\n  const { label, type, value, onChange, options } = props;\n  if (type === \"textarea\") return (\n    <CFormGroup>\n      <label>{label}</label>\n      <textarea \n        onChange={onChange}\n        className=\"form-control\"\n        rows=\"5\"\n        defaultValue={value}\n      >\n      </textarea>\n    </CFormGroup>\n  )\n  else if(type === \"select\") {\n    return <CFormGroup>\n      <label>{label}</label>\n      <Select \n        options={options}\n        value={value}\n        onChange={onChange}\n      />\n    </CFormGroup>\n  }\n  else return (\n    <CFormGroup>\n      <label>{label}</label>\n      <input \n        type={type} \n        className=\"form-control\" \n        value={value}\n        onChange={onChange}\n      />\n    </CFormGroup>\n  )\n}\n\nexport default FormInput\n","const Header = (props) => {\n  return (\n    <div className=\"d-flex justify-content-between align-items-center\">\n      <div>\n        <h4 className=\"d-inline\">{props.title}</h4>\n      </div>\n      <div>\n        <div className=\"clearfix\">\n          {props?.buttons?.map((b, i) => (\n            <button className=\"btn btn-primary ml-1\" key={i} onClick={b.onClick}>{b.text}</button>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Header\n","import React from \"react\";\nimport FormInput from \"./FormInput\";\n\nconst RenderForm = (props) => {\n  const { fields, col } = props;\n  return (\n    <div className=\"row\">\n      {fields.map((field, i) => (\n        <div className={`col-md-${col ?? 6}`} key={i}>\n          {field.map((f, j) => (\n            React.isValidElement(f) ? f :\n            <FormInput \n              type={f.type}\n              value={f.value}\n              onChange={f.onChange}\n              label={f.label}\n              key={j}\n              options={f?.options}\n            />\n          ))}\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default RenderForm\n","import { CModal, CModalHeader, CModalBody, CModalFooter, CModalTitle } from \"@coreui/react\";\nimport { useState } from \"react\";\nimport RenderForm from \"../../components/RenderForm\";\nimport LoadingButton from \"../../components/LoadingButton\";\nimport { changeMyPassword, updateUser } from \"../../api\";\nimport { toast } from \"react-toastify\";\n\nconst ModalMyProfile = (props) => {\n  const { modalTitle, show, onCancel, type, data } = props;\n  const [name, setName] = useState(data?.name ?? \"\");\n  const [email, setEmail] = useState(data?.email ?? \"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\")\n  const [position, setPosition] = useState(data?.position ?? \"\");\n  const [oldPassword, setOldPassword] = useState(\"\");\n  const [loadingBtn, setLoadingBtn] = useState(false);\n\n  const clearForm = () => {\n    setName(\"\")\n    setEmail(\"\")\n    setPosition(\"\")\n    setOldPassword(\"\")\n    setPassword(\"\")\n    setConfirmPassword(\"\")\n  }\n\n  const onSubmit = async () => {\n    setLoadingBtn(true);\n    try {\n      if(type === \"editProfile\") {\n        const res = await updateUser({name, email, position, level: data.level, id: data.id});\n        localStorage.setItem(\"userdata\", JSON.stringify(res.data));\n      } else {\n        if(password === \"\") return toast.error(\"Password tidak boleh kosong!\");\n        if(password.length < 6) return toast.error(\"Password minimal 6 karakter!\");\n        if(password !== confirmPassword) return toast.error(\"Konfirmasi password tidak sesuai!\");\n        await changeMyPassword({oldPassword, newPassword: password})\n      }\n      clearForm();\n      onCancel();\n    } catch (err) {}\n    setLoadingBtn(false);\n  }\n\n  const getFields = () => {\n    if(type === \"editProfile\") return [[\n      {label: \"Name\", value: name, onChange: e => setName(e.target.value), type: \"text\"},\n      {label: \"Email\", value: email, onChange: e => setEmail(e.target.value), type: \"email\"},\n      {label: \"Position\", value: position, onChange: e => setPosition(e.target.value), type: \"text\"}\n    ]]\n    else return [[\n      {label: \"Old Password\", value: oldPassword, onChange: e => setOldPassword(e.target.value), type: \"password\"},\n      {label: \"New Password\", value: password, onChange: e => setPassword(e.target.value), type: \"password\"},\n      {label: \"Confirm New Password\", value: confirmPassword, onChange: e => setConfirmPassword(e.target.value), type: \"password\"},\n    ]]\n  }\n\n  return (\n    <CModal show={show} onClose={onCancel}>\n      <CModalHeader>\n        <CModalTitle>{modalTitle}</CModalTitle>\n      </CModalHeader>\n      <CModalBody>\n        <RenderForm \n          fields={getFields()}\n          col=\"12\"\n        />\n      </CModalBody>\n      <CModalFooter>\n        <button className=\"btn btn-secondary\" onClick={() => {onCancel(); clearForm()} }>Cancel</button>\n        {loadingBtn ? (<LoadingButton />) : (\n          <button className=\"btn btn-primary\" onClick={onSubmit}>Save</button>\n        )}\n      </CModalFooter>\n    </CModal>\n  )\n}\n\nexport default ModalMyProfile\n","import { CCard, CCardBody, CCardFooter, CCardHeader } from \"@coreui/react\";\nimport { useEffect, useState } from \"react\";\nimport { deleteUser, getUser } from \"../../api\";\nimport Header from \"../../components/Header\";\nimport Role from \"../../constants/roles\";\nimport { getUserData } from \"../../utils/auth\";\nimport ModalMyProfile from \"./ModalMyProfile\";\n\nconst MyProfile = (props) => {\n  const userdata = getUserData();\n  const [modal, setModal] = useState(null);\n\n  const fields = [\n    {label: \"Name\", value: userdata.name},\n    {label: \"Email\", value: userdata.email},\n    {label: \"Position\", value: userdata.position},\n    {label: \"Level\", value: <span className=\"badge bg-secondary\">{Object.keys(Role)[userdata.level - 1]}</span>},\n  ]\n\n  return (\n    <>\n      <CCard>\n        <CCardHeader>\n          <Header \n            title=\"My Profile\"\n          />\n        </CCardHeader>\n        <CCardBody>\n          <div className=\"row\">\n            <div className=\"col-md-6\">\n              <table className=\"table table-sm\">\n                <tbody>\n                  {fields.map((f, i) => (\n                    <tr>\n                      <td width=\"200\">{f.label}</td>\n                      <td>:&ensp;&ensp;{f.value}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </CCardBody>\n        <CCardFooter>\n          <button className=\"btn btn-success mr-1\" onClick={() => setModal(\"editProfile\")}>Edit Profile</button>\n          <button className=\"btn btn-info\" onClick={() => setModal(\"changePassword\")}>Change Password</button>\n        </CCardFooter>\n      </CCard>\n      <ModalMyProfile \n        show={modal === \"editProfile\"}\n        type=\"editProfile\"\n        modalTitle=\"Edit Profile\"\n        data={userdata}\n        onCancel={() => setModal(null)}\n      />\n      <ModalMyProfile \n        show={modal === \"changePassword\"}\n        type=\"changePassword\"\n        modalTitle=\"Change Password\"\n        data={userdata}\n        onCancel={() => setModal(null)}\n      />\n    </>\n  )\n}\n\nexport default MyProfile\n"],"sourceRoot":""}