{"version":3,"sources":["pages/cyberTipline/components/form/fields/InputFile.js","pages/cyberTipline/components/form/tabs/FormFile.js","pages/cyberTipline/CyberTiplineCreate.js"],"names":["InputFile","onDelete","onDropFile","className","type","onChange","style","backgroundColor","padding","boxSizing","color","cursor","borderRadius","onClick","FormFile","getFiles","useState","field","setField","files","setFiles","e","target","length","index","map","f","i","filter","CyberTiplineCreate","data","setData","tabs","name","component","FormText","activeTab","setActiveTab","loadingButton","setLoadingButton","onSubmit","a","d","ipx","suspectIpAddress","v","value","JSON","stringify","suspectEmailList","suspectEmails","hasFile","createCyberTipline","window","history","back","variant","t","data-tab","getData","LoadingButton"],"mappings":"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","file":"static/js/23.f21add73.chunk.js","sourcesContent":["import { CFormGroup } from \"@coreui/react\";\nimport { FaTrash } from \"react-icons/fa\";\n\nconst InputFile = ({ onDelete, onDropFile }) => {\n  return (\n    <CFormGroup>\n      <div className=\"d-flex justify-content-start align-items-center\">\n        <div>\n          <input type=\"file\" className=\"form-control-file\" onChange={onDropFile} />\n        </div>\n        <div>\n          <FaTrash\n            style={{\n              backgroundColor: \"#d9534f\",\n              padding: 7.5,\n              boxSizing: \"content-box\",\n              color: \"#fff\",\n              cursor: \"pointer\",\n              borderRadius: 2.5,\n            }}\n            onClick={onDelete}\n          />\n        </div>\n      </div>\n    </CFormGroup>\n  );\n};\n\nexport default InputFile;\n","import { useState } from \"react\";\nimport InputFile from \"../fields/InputFile\";\n\nconst FormFile = ({ getFiles }) => {\n  const [field, setField] = useState([0]);\n  const [files, setFiles] = useState([]);\n\n  const handlePlus = () => {\n    if (field.length === 0) {\n      setField([0]);\n    } else {\n      const index = field.length > 0 ? field.length - 1 : 0;\n      setField([...field, field[index] + 1]);\n    }\n  };\n\n  const handleDelete = (i) => {\n    setField(field.filter((f) => f !== i));\n  };\n\n  const onDropFile = (e) => {\n    setFiles([...files, e.target.files[0]]);\n    getFiles([...files, e.target.files[0]]);\n  };\n\n  return (\n    <div>\n      <button onClick={handlePlus} className=\"btn btn-success btn-sm mb-3\">\n        Tambah\n      </button>\n      {field.map((f) => (\n        <InputFile key={f} onDropFile={onDropFile} onDelete={() => handleDelete(f)} />\n      ))}\n    </div>\n  );\n};\n\nexport default FormFile;\n","import {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CCardHeader,\n  CNav,\n  CNavItem,\n  CNavLink,\n  CTabContent,\n  CTabPane,\n  CTabs,\n} from \"@coreui/react\";\nimport React, { useState } from \"react\";\nimport { createCyberTipline } from \"../../api\";\nimport LoadingButton from \"../../components/LoadingButton\";\nimport FormFile from \"./components/form/tabs/FormFile\";\nimport FormText from \"./components/form/tabs/FormText\";\n\nconst CyberTiplineCreate = () => {\n  const [data, setData] = useState({});\n  const [files, setFiles] = useState([]);\n  const tabs = [\n    { name: \"Form\", component: FormText },\n    { name: \"File (Optional)\", component: FormFile },\n  ];\n  const [activeTab, setActiveTab] = useState(tabs[0].name);\n  const [loadingButton, setLoadingButton] = useState(false);\n\n  const onSubmit = async () => {\n    setLoadingButton(true);\n    let d = { ...data };\n    let ipx = data?.suspectIpAddress?.map((v) => v.value) ?? [];\n    d.suspectIpAddress = JSON.stringify(ipx);\n    d.suspectEmailList = data?.suspectEmails?.map((v) => v.value) ?? [];\n    if (files.length > 0) {\n      d.files = files;\n      d.hasFile = true;\n    } else d.hasFile = false;\n    try {\n      await createCyberTipline(d);\n      window.history.back();\n    } catch (err) {\n      setLoadingButton(false);\n    }\n  };\n\n  return (\n    <CCard>\n      <CCardHeader>\n        <h5 className=\"d-inline\">Add Cyber Tipline</h5>\n      </CCardHeader>\n      <CCardBody>\n        <CTabs activeTab={activeTab}>\n          <CNav variant=\"tabs\">\n            {tabs.map((t) => (\n              <CNavItem data-tab={t.name} key={t.name} onClick={() => setActiveTab(t.name)}>\n                <CNavLink data-tab={t.name}>{t.name}</CNavLink>\n              </CNavItem>\n            ))}\n          </CNav>\n          <CTabContent>\n            {tabs.map((t) => (\n              <CTabPane data-tab={t.name} key={t.name}>\n                <div className=\"mt-3\">\n                  <t.component getData={(e) => setData(e)} getFiles={(e) => setFiles(e)} />\n                </div>\n              </CTabPane>\n            ))}\n          </CTabContent>\n        </CTabs>\n      </CCardBody>\n      <CCardFooter>\n        {loadingButton ? (\n          <LoadingButton />\n        ) : (\n          <CButton color=\"primary\" onClick={onSubmit}>\n            Simpan\n          </CButton>\n        )}{\" \"}\n        <CButton color=\"secondary\" onClick={() => window.history.back()}>\n          Kembali\n        </CButton>\n      </CCardFooter>\n    </CCard>\n  );\n};\n\nexport default CyberTiplineCreate;\n"],"sourceRoot":""}